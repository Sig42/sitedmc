{% extends 'base.html' %}
{% load static %}

{% block head %}
<link type="text/css" rel="stylesheet" href="{% static 'blog/css/blog.css' %}">
{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>
    <div class="row">
        <div class="side-column">
            <div class="read_post_a">
                <a href="{% url 'blog:authors' %}">Authors</a>
            </div>
            <div class="read_post_a">
                <a href="{% url 'blog:tags' %}">Tags</a>
            </div>
        </div>
        <div class="central-column">
            {% for post in posts %}
              <h2>{{ post.title }}</h2>
              <h3>created by {{ post.author.username|default:'Unknown' }}</h3>
              <div class="read_post_a"><a href="{{ post.get_absolute_url }}">Read</a></div>
              {% if not forloop.last %}
                <hr style="width:50%;height:2px;border-width:0;color:black;background-color:black;">
              {% endif %}
            {% endfor %}
        </div>
        <div class="side-column">
            <div class="read_post_a"><a href="{% url 'blog:add_post' %}">Create post</a></div>
            <div class="read_post_a"><a href="{% url 'blog:my_posts' %}">My posts</a></div>
        </div>
    </div>
      {% if page_obj.has_other_pages %}
          <div class="inside">
          <ul>
              {% if page_obj.has_previous %}
                  <li>
                      <a href="?page={{ page_obj.previous_page_number }}">
                          <button class="page_selector_button">&lt;</button>
                      </a>
                  </li>
              {% endif %}
          {% for p in paginator.page_range %}
              {% if page_obj.number == p %}
                  <li>
                      <button class="page_selector_button actual">{{ p }}</button>
                  </li>
              {% elif p >= page_obj.number|add:-2 and p <= page_obj.number|add:2 %}
                  <li>
                      <a href="?page={{ p }}">
                          <button class="page_selector_button">{{ p }}</button>
                      </a>
                  </li>
              {% endif %}
          {% endfor %}
          {% if page_obj.has_next %}
              <li>
                  <a href="?page={{ page_obj.next_page_number }}">
                      <button class="page_selector_button">&gt;</button>
                  </a>
              </li>
          {% endif%}
          </ul>
          </div>
      {% endif %}
<div class="background-img-mark">Photo by
    <a href="https://unsplash.com/@jessbaileydesigns?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">
        Jess Bailey</a> on
    <a href="https://unsplash.com/photos/pen-near-black-lined-paper-and-eyeglasses-q10VITrVYUM?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">
        Unsplash</a>
</div>
{% endblock %}
